<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="">
<meta name="dcterms.date" content="2025-10-21">

<title>Norwegian Bliss Mexican Riviera October 2025 – Tiburon Travels</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-bbc47a6b991b65dd5249dcaf3a1170b0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Tiburon Travels</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Back to main</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About this blog</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Norwegian Bliss<br>Mexican Riviera<br>October 2025</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Cruise</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 21, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Cruise_map_5_day.jpg" class="img-fluid figure-img"></p>
<figcaption>5 day cruise route.</figcaption>
</figure>
</div>
<section id="tuesday-october-21-2025---embarkation" class="level2">
<h2 class="anchored" data-anchor-id="tuesday-october-21-2025---embarkation">Tuesday, October 21, 2025 - Embarkation</h2>
<p>We set off around 8am for the 80-mile drive to San Pedro, but heavy morning traffic turned the trip into a two-and-a-half-hour crawl. By the time we reached the port, the main terminal lot was already full. I was directed to an overflow lot about four miles away, so I dropped Becky off at the curb before heading out to park. After a quick shuttle ride back to the terminal, I reunited with Becky and found that boarding was already underway. We were able to walk right onto the ship without any wait.</p>
<p>Once on board, we handled the essentials first: checking in at our muster station and heading to the Cruise Next desk to sign up for a wine tasting. We enjoyed a quiet lunch in the Haven dining room, though I couldn’t resist a “second lunch” shortly after; we stopped by the buffet to check out the desserts, and I ended up with a plate of Indian food. They also had a beautiful “Welcome Aboard” cake, which was a nice (and delicious) touch.</p>
<p>We spent the rest of the afternoon exploring, catching the energy of the pool party and touring the spa. By the time we finished, the ship had begun its sail-away. We eventually made our way to the Haven Observation Lounge for some coffee and treats before heading back to the room. I managed to squeeze in a nap while Becky unpacked.</p>
<p>Later that afternoon, we tested our knowledge at a trivia session focused entirely on the <em>Norwegian Bliss</em>. For pre-dinner drinks, we headed to the A-List Bar, followed by a meal at the Italian restaurant. Becky ordered the shrimp pasta, while I went with the Chicken Cacciatore.</p>
<p>We capped off the night at a comedy show featuring a violinist who mixed jokes with musical snippets. Becky found the act a bit “lame” and wanted to head out early, but since it had been her idea to go, I insisted we stay - plus, I actually found some of it quite humorous.</p>
</section>
<section id="wednesday-october-22-2025---at-sea" class="level2">
<h2 class="anchored" data-anchor-id="wednesday-october-22-2025---at-sea">Wednesday, October 22, 2025 - At Sea</h2>
<p>Today was a sea day, and we both started early. After we each took a turn soaking in the tub, I enjoyed a cup of coffee and half of the cupcake Becky received for her birthday. We then headed to the Haven Observation Lounge for coffee before breakfast, where Becky added a splash of Baileys to her latte.</p>
<p>We spent the morning playing trivia with Penny and Mike, the couple from Mesa, Arizona, whom we met yesterday. We managed a respectable score of 11 out of 20. Afterward, we ran into Heidi, the Beverage Manager, and Wanda, the Restaurant Manager. Heidi kindly offered us coffee or anything else we might need; on past trips, she has been incredibly generous with extra bottles of water and wine. We ended up grabbing Starbucks, where I had a pumpkin latte and Becky chose a chocolate frappuccino.</p>
<p>Later, we browsed the ship’s gift shops to check liquor prices for home. We found Grand Marnier for $40 and Baileys Espresso Crème for $21.20. We also made sure to stop by and say hello to Djamel, the General Manager, and Elena, the Assistant GM, joined the conversation as well.</p>
<p>For lunch, Becky had a bunless fish sandwich while I opted for a Cobb salad. Afterward, we walked through the buffet to look for familiar faces. I couldn’t resist the Indian food station once I saw they had Butter Chicken, so I ended up having a second plate!</p>
<p>At 1pm, we headed to the Cavern Club for “Wines Around the World.” The event usually features a white and a red from four regions: the US, Chile, France, and Italy. I always look forward to this because they often serve a few of my favorites, specifically the French Pinot Noir. Following the tasting, Becky watched a movie while I mostly napped through it.</p>
<p>Our afternoon trivia was “Music Mania,” where teams had to guess songs based solely on the drum rhythm. One team was remarkably good, dominating the game by identifying almost every track.</p>
<p>The evening was a whirlwind of social events. At 6pm we attended the Latitudes Party in the Observation Lounge. There were about 200 guests who attended and six Ambassadors were on board. We had the chance to meet the ship’s Chief Engineer. At 7pm we moved on to the Captain’s VIP Party, enjoying wine and small bites.</p>
<p>To cap off a busy and enjoyable day, we headed to the Haven Restaurant for a late dinner.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="IMG_20251022_070344301_HDR.jpg" class="img-fluid figure-img"></p>
<figcaption>Sunset on October 22.</figcaption>
</figure>
</div>
</section>
<section id="thursday-october-23-2025---cabo-san-lucas" class="level2">
<h2 class="anchored" data-anchor-id="thursday-october-23-2025---cabo-san-lucas">Thursday, October 23, 2025 - Cabo San Lucas</h2>
<p>Today we arrived in Cabo San Lucas. Since the ship anchors in the harbor, passengers head ashore via tender boats. The General Manager mentioned that two other ships are joining us in port today, so the harbor is quite busy.</p>
<p>I woke up early and brewed a coffee in our room using the Nespresso machine before we headed to the Haven dining room for breakfast. Becky enjoyed the French toast, while I had avocado toast topped with poached eggs.</p>
<p>By 10am, we made our way to the Haven Sundeck to soak up some sun. It was a very warm morning with hardly a breeze. After about an hour, we moved down to the Haven pool deck to take a dip and lounge in the chairs; it was surprisingly quiet, with only two other people out in the sun.</p>
<p>Around 1pm, we changed for lunch. We started with French 75s before our meal; I had a fish sandwich which was quite good, though Becky’s scallops were unfortunately a bit raw and rubbery.</p>
<p>When we returned to the cabin, we found it beautifully decorated for Becky’s birthday, complete with a cake! However, we noticed that some of Becky’s scrunchies and hair clips that had been on the bed were missing. We searched everywhere before calling our room steward to see if he had seen them. After the search, we settled in for coffee and cake. I took a nap while Becky bathed, and then I grabbed a shower before the evening festivities.</p>
<p>We began our evening with pre-dinner cocktails at the A-List bar. Dinner was at Le Bistro, the ship’s French restaurant, where we were joined by Chief Engineer Marijan and Chief Electrical Engineer Zeljko. Becky and Marijan chose the lamb chops, while Zeljko and I had the beef tenderloin. After we ordered dessert, the staff surprised us by bringing out a large birthday cake for Becky. We all enjoyed a slice alongside our original dessert orders.</p>
<p>Since the shops were still open after dinner, we stopped in and bought a shirt for Becky, leaving us with about $6 in non-refundable credit. We tried to catch the comedy show, but it was standing room only, so we decided to head to the main theater instead. We watched “The Beatles Experience,” which was a very good show.</p>
<p>To end the night, we stopped by the Haven Bar for a nightcap before finally heading to bed.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="IMG_20251023_090223017_HDR.jpg" class="img-fluid figure-img"></p>
<figcaption>A view of Lands End, Cabo San Lucas, from the Pacific side.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="IMG_20251023_141548845.jpg" class="img-fluid figure-img"></p>
<figcaption>Birthday decorations.</figcaption>
</figure>
</div>
</section>
<section id="friday-october-24-2025---at-sea" class="level2">
<h2 class="anchored" data-anchor-id="friday-october-24-2025---at-sea">Friday, October 24, 2025 - At Sea</h2>
<p>Today was another relaxing sea day. We started our morning in the room, enjoying a slice of birthday cake with our coffee before heading up to the Haven for a full breakfast. Becky tried a “BFK”—a coffee cocktail made with Baileys, Frangelico, and Kahlúa—which she really enjoyed. For our meal, I ordered the Eggs Benedict, and Becky had scrambled eggs with diced ham.</p>
<p>After breakfast, we headed downstairs for trivia. we teamed up with two passengers we had met the day before, both named Mike. We managed to score 11 points, which unfortunately wasn’t quite enough to land us in the top three.</p>
<p>Later, we changed into our bathing suits and went to the Haven pool to relax. We had the entire area to ourselves, so we spent some quiet time sitting in the chairs by the water’s edge.</p>
<p>For lunch, we returned to the Haven restaurant. Becky ordered the shrimp scampi, and I had the Brie Burger. I’ve found that the Brie Burger can be hit-or-miss; today it wasn’t quite as good as I remembered it being in the past.</p>
<p>In the afternoon, we attended a presentation about future NCL cruises and stayed for the following trivia session. We didn’t actually play this time; instead, I spent the hour chatting with Barry, whom we met yesterday. He is a retired Army veteran who essentially lives on cruise ships now—he had some fascinating perspectives to share.</p>
<p>Back in the room, we enjoyed our afternoon canapés, which today was a vegetable crudité platter with ranch dip.</p>
<p>We kicked off the evening with pre-dinner drinks at the A-List Bar before heading to Cagney’s (the Palomar Grill) for dinner. Becky had the lamb chops and mentioned they were even better than the ones she had the other night. I opted for the sea bass, which was excellent.</p>
</section>
<section id="saturday-october-25-2025---ensenada-mexico" class="level2">
<h2 class="anchored" data-anchor-id="saturday-october-25-2025---ensenada-mexico">Saturday, October 25, 2025 - Ensenada, Mexico</h2>
<p>Today we docked in Ensenada, arriving around 9:30 AM. We started our morning with breakfast in the Haven dining room. At 8:00 AM, I called the Chief Engineer to confirm our 11:00 AM appointment for a behind-the-scenes tour of the ship. With disembarkation looming tomorrow, we also spent a portion of the morning getting a head start on our packing.</p>
<p>At 11:00 AM, we met the Chief Engineer for an extensive tour of the ship’s technical spaces. It was an incredible look at the complex systems that keep the vessel running, including:</p>
<p>Engine Control Room which was a high-tech hub filled with monitors used to track every ship system. We saw the reverse osmosis systems used for fresh water production and the treatment plant that processes gray and black water before discharge. We toured the main engines, generators, and the Azipod systems and controllers. We had a look at the ship’s stabilizers, emergency generators, and fire suppression systems. We also viewed the refrigeration systems and the massive pumps for the water supply.</p>
<p>After the tour, we headed ashore to browse the vendor stalls and souvenir shops near the pier. Once back on board, we changed into our swimwear and spent some time at the Haven pool before heading to lunch. We finished eating around 2:00 PM, enjoyed another hour lounging by the pool, and then returned to the cabin. While Becky took a relaxing bath, I began preparing for our final evening on board.</p>
<p>At 4:15pm, we attended a round of general knowledge trivia, followed by our usual pre-dinner drinks at the A-List Bar. We enjoyed a quiet final dinner in the Haven restaurant. Before heading to bed, we finished the rest of our packing to ensure a smooth departure tomorrow morning.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="IMG_20251025_110744489.jpg" class="img-fluid figure-img"></p>
<figcaption>Looking down the main coridor of deck 1 in the engine room.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="IMG_20251025_111033243_HDR.jpg" class="img-fluid figure-img"></p>
<figcaption>One of the ship’s engins.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="IMG_20251025_111037280_HDR.jpg" class="img-fluid figure-img"></p>
<figcaption>One of the air conditinging units for the ship.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="IMG_20251025_111502820.jpg" class="img-fluid figure-img"></p>
<figcaption>The reverse osmosis system for the ship’s fresh water.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="IMG_20251025_120924228.jpg" class="img-fluid figure-img"></p>
<figcaption>The Bliss at dock in Ensenada.</figcaption>
</figure>
</div>
</section>
<section id="sunday-october-26-2025---los-angeles-disembark" class="level2">
<h2 class="anchored" data-anchor-id="sunday-october-26-2025---los-angeles-disembark">Sunday, October 26, 2025 - Los Angeles, Disembark</h2>
<p>The Bliss entered Los Angeles Harbor around 4am. We woke up early to finish our final packing and organization, ensuring we were ready to head to breakfast as soon as the Haven dining room opened. After I showered, Becky took one last soak in the tub before we headed upstairs at 6:30am.</p>
<p>We disembarked the ship around 7:30am. The entire process was remarkably quick and easy. Regrettably, I decided to have a cup of coffee this morning - something I usually avoid on travel days - which did necessitate a bathroom stop along the way. Fortunately, the freeway traffic was light, and we were back home by 10am.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>